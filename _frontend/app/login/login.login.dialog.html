<md-dialog flex-gt-md="25">
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>{{::i18n('%menu.login%')}}</h2>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="closeDialog()">
                <md-icon>clear</md-icon>
            </md-button>
        </div>
    </md-toolbar>

    <md-dialog-content>
        <div class="md-dialog-content">

            <center>
                <p>
                    <img class="profile-img-card" src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"/>
                </p>
            </center>

            <form ng-submit="signIn.invoke()">
                <div layout="column" flex>
                    <md-input-container>
                        <input type="email"
                               placeholder="{{::i18n('%email_addr%')}}" required
                               ng-model="signIn.data.username">
                    </md-input-container>

                    <md-input-container>
                        <input placeholder="{{::i18n('%password%')}}" ng-model="signIn.data.passwd" type="password"
                               required>
                    </md-input-container>

                    <div flex ng-if="signIn.show_loginToken" layout="column">
                        <center>
                            <p class="md-body-1">This is your first login from this web browser, confirm it by
                                providing code we sent to your email</p>
                        </center>
                        <md-input-container>
                            <input placeholder="Login token" ng-model="signIn.data.loginToken" type="text">
                        </md-input-container>
                    </div>

                    <div flex ng-if="signIn.show_totpToken" layout="column">
                        <center>
                            <p class="md-body-1">Kindly consult your secondary device to generate OTP token</p>
                        </center>
                        <md-input-container>
                            <input placeholder="One-Time Password" ng-model="signIn.data.totpToken" type="text">
                        </md-input-container>
                    </div>

                    <md-button class="md-primary md-raised" type="submit">
                        {{::i18n('%menu.login%')}}
                    </md-button>

                    <center>
                        <p class="md-body-1">
                            <small ng-if="signIn.show_totpToken">
                                <a ng-click='forgotTokenDialog()' href> {{::i18n('%login.forgot_token%')}}</a>
                            </small>

                            <small ng-if="!signIn.show_totpToken">
                                <a ng-click='forgotPasswdDialog()' href> {{::i18n('%login.forgot_password%')}}</a>
                            </small>
                        </p>

                        <p class="md-body-1" ng-if="gitInfo.env != 'PROD'">
                            <small>
                                <a ng-click='do_login("john+data@postscriptum.co", "passwd")' href>John Data</a>,
                                <a ng-click='do_login("jane.first@postscriptum.co", "passwd2")' href>Jane First</a>,
                                <a ng-click='do_login("jack.empty@postscriptum.co", "passwd3")' href>Jack Empty</a>,
                                <a ng-click='do_login("bob.nonactive@postscriptum.co", "passwd")' href>Bob Nonactive</a>,
                                <a ng-click='do_login("bad.santa@postscriptum.co", "rudolf")' href>Bad Santa</a>
                            </small>
                        </p>

                    </center>
                </div>
            </form>

        </div>
    </md-dialog-content>
</md-dialog>